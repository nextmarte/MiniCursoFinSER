[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Mini-curso de finanças com R",
    "section": "",
    "text": "Neste curso você aprenderá a utilizar o R para análise de dados financeiros. O curso terá duração de 3 horas e será dividido em 3 partes:\n\nImportar os preços dos ativos da internet em arquivos .csv ou .xls\nTransformar os preços diários em mensais.\nObter os retornos mensais.\nVisualizar os retornos mensais.\nCalcular o retorno do portifólio utilizando os retornos mensais e pesos.\nVisualizar o retorno do portifólio.\n\n\n\nEsperamos que você já tenha tido contato com R e Quarto. Um computador com acesso à internet para acessar o ambiente de desenvolvimento Posit Cloud ou baixar o repositorio do curso.\n\n\n\nPara se preparar para o curso, você pode baixar o repositório do curso no link abaixo:\nRepositório no GitHub\nLink para o ambiente de desenvolvimento Posit Cloud\n\n\n\n\nMarcus Ramalho\nAriel Levy"
  },
  {
    "objectID": "index.html#pré-requisitos",
    "href": "index.html#pré-requisitos",
    "title": "Mini-curso de finanças com R",
    "section": "",
    "text": "Esperamos que você já tenha tido contato com R e Quarto. Um computador com acesso à internet para acessar o ambiente de desenvolvimento Posit Cloud ou baixar o repositorio do curso."
  },
  {
    "objectID": "index.html#preparação",
    "href": "index.html#preparação",
    "title": "Mini-curso de finanças com R",
    "section": "",
    "text": "Para se preparar para o curso, você pode baixar o repositório do curso no link abaixo:\nRepositório no GitHub\nLink para o ambiente de desenvolvimento Posit Cloud"
  },
  {
    "objectID": "index.html#instrutores",
    "href": "index.html#instrutores",
    "title": "Mini-curso de finanças com R",
    "section": "",
    "text": "Marcus Ramalho\nAriel Levy"
  },
  {
    "objectID": "exercicios.html",
    "href": "exercicios.html",
    "title": "Mini-curso de finanças com R",
    "section": "",
    "text": "Instruções\nNeste arquivo você encontrará as instruções para realizar o mini-curso de finanças com R. Todos os pacotes necessários já estão instalados no ambiente da Posit Cloud . Para começar, execute a célula abaixo.\n\npacotes &lt;- c(\"tidyverse\", \"quantmod\", \"timetk\", \"plotly\",\"PerformanceAnalytics\")\npurrr::walk(pacotes, library, character.only = TRUE)\n\n\n\nMontando sua carteira\nAcesse o site Yahoo Finance e escolha 5 ações de empresas que você gostaria de incluir em sua carteira de investimentos. Depois de escolher crie um vetor com os códigos das ações e execute a célula abaixo.\n\n# Vetor com os códigos das ações numa variável chamada tickers\n\n\n\nColetando os dados com o pacote quantmod\n\nEscolha um período de tempo para coletar os dados das ações, por exemplo, de 01/01/2020 até 01/01/2021.\nUtilize a função getSymbols do pacote quantmod para coletar os dados das ações escolhidas.\nVisualize os dados coletados.\n\n\n# coloque o codigo para baixar os dados com quantmode abaixo. Consulte a documentação do quantmode para saber como fazer isso.\n\n\n\nTrabalhando com os dados\nConverta os dados diários para dados mensais usando a função to.monthly do pacote quantmod. Depois, utilize a função tk_tbl do pacote timetk para converter os dados para um tibble."
  },
  {
    "objectID": "apresentacao.html#ariel-levy",
    "href": "apresentacao.html#ariel-levy",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Ariel Levy",
    "text": "Ariel Levy\n\n\n\n\n\n\nDoutor em Economia (Universidade Federal Fluminense - 2013), mestre em Administração (IBMEC -2003) e engenheiro eletricista (Universidade Federal Fluminense - 1982). Sou Professor Associado da Universidade Federal Fluminense vinculado ao Departamento de Administração da Faculdade de Administração e Ciências Contábeis e fui coordenador do Curso de Graduação em Administração (2016-2021). Professor do quadro permanente do PPGAd - UFF e colaborador no MBA de Logística (LOGEMP - UFF), no MBA de Finanças (UFF), no MBA de Marketing (UFF) e dos cursos de Extensão em Ciências dos Dados (UFF) como atual coordenador. Possui experiência em Administração, com ênfase em Finanças Quantitativas; Finanças publicas; Planejamento e Controle: Ciências dos Dados: na linguagem R e na análise e visualização de dados. Organizador dos Seminários de Estatística R - Evento Internacional de Divulgação de Aplicações e Desenvolvimento de Linguagens R. Coordenador do Grupo de Pesquisa (CNPQ/UFF) - Métodos Quantitativos Aplicados à Administração."
  },
  {
    "objectID": "apresentacao.html#marcus-ramalho",
    "href": "apresentacao.html#marcus-ramalho",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Marcus Ramalho",
    "text": "Marcus Ramalho\n\n\n\n\n\nPossui graduação em Administração pela Universidade Federal Fluminense (2020) e é candidato ao título de mestre em Administração pelo programa de pós-graduação em administração da UFF (PPGAd-UFF). É professor convidado dos MBAs de Ciências de Dados e de Finanças Corporativas e Mercados de Capitais na UFF. Tem experiência em ciência de dados com R e Python, programação funcional e desenvolvimento de bots, mapeamento e automação de processos administrativos. Tem interesse em Administração da Informação, Gestão do Conhecimento Pessoal, Economia Política, Finanças, R e Python."
  },
  {
    "objectID": "apresentacao.html#sumário",
    "href": "apresentacao.html#sumário",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Sumário",
    "text": "Sumário\n\nRelembrar conceitos de finanças e aplicar o R na análise e visualização de seu portifólio.\nImportar os preços dos ativos da internet direto do yahoo.com\nTransformar os preços diários em mensais e obter os retornos.\nVisualização dos dados.\nRetorno da carteira\nVisualizar o retorno da carteira.\nAnálise do risco.\nBeta do portifólio e de cada ativo."
  },
  {
    "objectID": "apresentacao.html#relembrando-conceitos-de-finanças",
    "href": "apresentacao.html#relembrando-conceitos-de-finanças",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Relembrando conceitos de finanças",
    "text": "Relembrando conceitos de finanças\n\nQual a sua motivação para investir?MotivaçãoRenda variávelOHLC\n\n\n\nQual a motivação para investir?\nJá investiu em renda variável?\nQuais os riscos?\nComo escolher seus ativos? Análise Fundamentalista"
  },
  {
    "objectID": "apresentacao.html#importar-os-preços-dos-ativos-da-internet-direto-do-yahoo.com",
    "href": "apresentacao.html#importar-os-preços-dos-ativos-da-internet-direto-do-yahoo.com",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Importar os preços dos ativos da internet direto do yahoo.com",
    "text": "Importar os preços dos ativos da internet direto do yahoo.com\n\nFundamentuscarregar pacotes e selecionar ativosImportar preços dos ativosPrices\n\n\n\n\n\n\n\n\n\n## pacote utilizados\npacotes &lt;- c(\"tidyverse\", \"quantmod\", \"timetk\", \"plotly\", \"PerformanceAnalytics\")\npurrr::walk(pacotes, library, character.only = TRUE)\n\n# Ativos escolhidos\ntickers &lt;- c(\"VALE3.SA\",\"PETR4.SA\",\"AZUL4.SA\",\"ABEV3.SA\",\"BBDC4.SA\",\"^BVSP\")\n\n\n\n\nO Formato XTS\n\n\nprices_raw &lt;- \n  getSymbols(tickers, \n             src = 'yahoo', \n             from = \"2019-12-31\",\n             to = \"2024-05-31\",\n             auto.assign = TRUE, #obs auto asign carrega os resultados para o ambiente\n             warnings = FALSE,)\n\nprices&lt;-prices_raw %&gt;%             \n  map(~Ad(get(.))) %&gt;% \n  reduce(merge) %&gt;%\n  `colnames&lt;-`(tickers)\n\n\n\n\nprices %&gt;%\n  tk_tbl() %&gt;%\n  head()\n\n# A tibble: 6 × 7\n  index      VALE3.SA PETR4.SA AZUL4.SA ABEV3.SA BBDC4.SA `^BVSP`\n  &lt;date&gt;        &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;\n1 2020-01-02     36.4     11.2     58.8     16.2     23.2  118573\n2 2020-01-03     36.1     11.1     56.8     15.9     23.2  117707\n3 2020-01-06     35.9     11.3     55       16.0     22.8  116878\n4 2020-01-07     36.2     11.2     56.8     16.1     22.4  116662\n5 2020-01-08     36.2     11.2     56.9     16.0     22.0  116247\n6 2020-01-09     35.7     11.1     57.3     15.9     21.7  115947"
  },
  {
    "objectID": "apresentacao.html#retornos-de-um-ativo",
    "href": "apresentacao.html#retornos-de-um-ativo",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Retornos de um ativo",
    "text": "Retornos de um ativo\nRetorno Linear = \\(\\frac{P_{t} - P_{t-1}}{P_{t-1}}\\)\nRetorno Logarítmico = \\(ln(\\frac{P_{t}}{P_{t-1}})\\)"
  },
  {
    "objectID": "apresentacao.html#exercícios",
    "href": "apresentacao.html#exercícios",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Exercícios",
    "text": "Exercícios\n\nExercício 1” ”\n\n\n −+ 05:00 \nSuponha que uma ação caia 50% e depois suba 50%, de quanto foi a variação total no período? dica (Componha o retorno destes dois períodos utilizando juros compostos.)\n\n\n\nvalor_inicial &lt;- 100\nvalor_apos_queda &lt;- valor_inicial - (valor_inicial * 0.50)\nvalor_final &lt;- valor_apos_queda + (valor_apos_queda * 0.50)\n\nvariacao_total &lt;- (valor_final - valor_inicial) / valor_inicial\nvariacao_total\n\n[1] -0.25"
  },
  {
    "objectID": "apresentacao.html#transformar-os-preços-diários-em-mensais-e-obter-os-retornos.",
    "href": "apresentacao.html#transformar-os-preços-diários-em-mensais-e-obter-os-retornos.",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Transformar os preços diários em mensais e obter os retornos.",
    "text": "Transformar os preços diários em mensais e obter os retornos.\n\nPreços mensaisRetornos mensais\n\n\n\nprices_monthly &lt;- to.monthly(prices, indexAt = \"lastof\", OHLC = FALSE)\n\nhead(prices_monthly)\n\n           VALE3.SA  PETR4.SA AZUL4.SA  ABEV3.SA BBDC4.SA  ^BVSP\n2020-01-31 33.69224 10.416775    59.26 15.037833 20.33509 113761\n2020-02-29 29.69770  9.278068    44.44 12.249303 18.92435 104172\n2020-03-31 28.96715  5.122344    17.55 10.042071 12.88241  73020\n2020-04-30 30.06631  6.608884    17.40  9.553447 13.07787  80506\n2020-05-31 35.52195  7.447353    14.28 10.513845 12.95472  87403\n2020-06-30 37.47901  7.890385    20.11 11.912322 14.16464  95056\n\n\n\n\n\nasset_returns_xts &lt;-\n PerformanceAnalytics::Return.calculate(prices_monthly, \n                   method = \"discrete\") %&gt;% \n  na.omit()\nhead(asset_returns_xts)\n\n              VALE3.SA    PETR4.SA     AZUL4.SA    ABEV3.SA     BBDC4.SA\n2020-02-29 -0.11855969 -0.10931475 -0.250084376 -0.18543432 -0.069375024\n2020-03-31 -0.02459932 -0.44790831 -0.605085514 -0.18019242 -0.319267902\n2020-04-30  0.03794509  0.29020704 -0.008546987 -0.04865775  0.015172727\n2020-05-31  0.18145340  0.12686998 -0.179310342  0.10052902 -0.009416734\n2020-06-30  0.05509444  0.05948849  0.408263374  0.13301286  0.093396441\n2020-07-31  0.08565809  0.03018341  0.009945244 -0.01697313  0.085030768\n                 ^BVSP\n2020-02-29 -0.08429075\n2020-03-31 -0.29904389\n2020-04-30  0.10251986\n2020-05-31  0.08567063\n2020-06-30  0.08755992\n2020-07-31  0.08264602"
  },
  {
    "objectID": "apresentacao.html#visualização-dos-dados",
    "href": "apresentacao.html#visualização-dos-dados",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Visualização dos dados",
    "text": "Visualização dos dados\n\nPreços com quantmodRetornos com ggplot2Com plotly\n\n\n\n## Visualizar os preços com quantmod\ngraficoscandle &lt;- chartSeries(head(BVSP, 30), \n            TA = \"addVo()\",\n            type = \"candlesticks\",\n            time.scale = \"years\",)\n\n\n\n\n\n\n\n\n\n\n\nasset_returns_tbl &lt;- asset_returns_xts %&gt;% \n  tk_tbl(rename_index = \"Data\") %&gt;% #converte em um data frame para plotar com ggplot\n  pivot_longer(!\"Data\" ,names_to = \"assets\")#seleciona todas as colunas menos data\n\n#plotando com o ggplot e com o plotly\ng1 &lt;- ggplot(asset_returns_tbl) +\n  aes(x = Data, y = value, colour = assets) +\n  geom_line() +\n  scale_color_hue(direction = 1) +\n  labs(title = \"Retornos de 2019 a 2024\")+ #Aqui nos podemos mudar as legendas\n  theme_minimal()\ng1\n\n\n\n\n\n\n\n\n\n\n\nplotly::ggplotly(g1)"
  },
  {
    "objectID": "apresentacao.html#não-sabe-usar-o-ggplot2",
    "href": "apresentacao.html#não-sabe-usar-o-ggplot2",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Não sabe usar o ggplot2?",
    "text": "Não sabe usar o ggplot2?\n\nEsquisseBox Plot dos retornos\n\n\n\nesquisse::esquisser(asset_returns_tbl)\n\n\n\n\n\n\n\n\n\n\n\n\n\npbp &lt;- ggplot(asset_returns_tbl) +\n  aes(x = \"\", y = value, fill = assets) +\n  geom_boxplot() +\n  scale_fill_brewer(palette = \"OrRd\", direction = 1) +\n  labs(\n    x = \"Ativos\",\n    y = \"Retornos\",\n    title = \"Box Plot - Retorno dos ativos\",\n    fill = \"Ativos\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 16L,\n    face = \"bold\",\n    hjust = 0.5),\n    axis.title.y = element_text(face = \"bold\"),\n    axis.title.x = element_text(face = \"bold\")\n  )\n\npbp"
  },
  {
    "objectID": "apresentacao.html#retorno-da-carteira.",
    "href": "apresentacao.html#retorno-da-carteira.",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Retorno da carteira.",
    "text": "Retorno da carteira.\n\nPesos dos ativosRetorno da carteira\n\n\nO somatório dos pesos deve ser igual a 1.\n\nset.seed(123) \nw &lt;- runif(5) # Gerando 4 pesos aleatórios\nw &lt;- w / sum(w) # Normalizando os pesos para que a soma seja 1\nw\n\n[1] 0.08692491 0.23827784 0.12361982 0.26690614 0.28427129\n\n\nO cálculo do retorno de uma carteira depende do retorno de cada ativo e de seu peso na carteira e pode ser obtido pela média ponderada:\n\\[ \\bar{k}=\\sum_{i=i}^n{w_i*k_i}\\]\n\n\n\n# removendo o índice do IBOV da lista de ativos para calcular o retorno da carteira\nretorno_ativos &lt;- asset_returns_xts[, tickers[1:5]]\n\nportfolio_returns_xts&lt;-PerformanceAnalytics::Return.portfolio(retorno_ativos,\n                 weights = w,\n                 rebalance_on = \"months\",\n                 type= \"discrete\") %&gt;% \n  `colnames&lt;-`(\"CARTEIRA\")\nhead(portfolio_returns_xts,3)\n\n              CARTEIRA\n2020-02-29 -0.13648334\n2020-03-31 -0.32251864\n2020-04-30  0.06271782"
  },
  {
    "objectID": "apresentacao.html#exercícios-1",
    "href": "apresentacao.html#exercícios-1",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Exercícios",
    "text": "Exercícios\n\nExercício 2“”\n\n\n −+ 05:00 \nDeterminado agente possui uma carteira formada pelas seguintes posições: R$25000,00 no ativo A e R$50000,00 no ativo B.\nQuais os pesos de sua carteira?\nSe para a manutenção destas posições o agente tivesse emprestado R$40000,00 ao Banco X, qual seria a estrutura dos pesos de sua carteira?\n\n\n\n\n\n# Valores das posições\nativo_A &lt;- 25000\nativo_B &lt;- 50000\n\n# Valor total da carteira\ntotal &lt;- ativo_A + ativo_B\n\n# Pesos\npeso_A &lt;- ativo_A / total\npeso_B &lt;- ativo_B / total\n\npeso_A\n\n[1] 0.3333333\n\npeso_B\n\n[1] 0.6666667\n\n\n\n\nemprestimo &lt;- -40000\n\ntotal &lt;- total + emprestimo\n\npeso_A &lt;- ativo_A / total\npeso_B &lt;- ativo_B / total\nemprestimo &lt;- emprestimo / total\n\npeso_A\n\n[1] 0.7142857\n\npeso_B\n\n[1] 1.428571\n\nemprestimo\n\n[1] -1.142857\n\nsum(peso_A, peso_B, emprestimo)\n\n[1] 1"
  },
  {
    "objectID": "apresentacao.html#visualizar-o-retorno-da-carteira.",
    "href": "apresentacao.html#visualizar-o-retorno-da-carteira.",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Visualizar o retorno da carteira.",
    "text": "Visualizar o retorno da carteira.\n\nRetorno da carteiraCódigosAtivos vs CarteiraMercado vs Carteira\n\n\n\nplot(portfolio_returns_xts)\n\n\n\n\n\n\n\n\n\n\n\ncomparacao &lt;- cbind(asset_returns_xts, portfolio_returns_xts) %&gt;% \n  tk_tbl(rename_index = \"Data\") %&gt;% \n  pivot_longer(-Data, names_to = \"assets\", values_to = \"value\")\n\np &lt;- ggplot(comparacao, aes(x = Data, y = value, colour = assets)) +\n  geom_line() +\n  scale_color_hue(direction = 1) +\n  labs(\n    x = \"Data\",\n    y = \"Retornos\",\n    title = \"Retorno dos ativos vs carteira\",\n    colour = \"Ativos\"  \n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 16L, face = \"bold\", hjust = 0.5),\n    axis.title.y = element_text(face = \"bold\"),\n    axis.title.x = element_text(face = \"bold\")\n  )\n\ncomp_mkt &lt;- comparacao %&gt;%\n filter(assets %in% c(\"X.BVSP\", \"CARTEIRA\")) %&gt;%\n ggplot() +\n  aes(x = Data, y = value, colour = assets) +\n  geom_line() +\n  scale_color_hue(direction = 1) +\n  labs(title = \"Carteira VS Índice do mercado - 2020 - 2023\",\n        x = \"Data\",\n        y = \"Retornos\",\n        colour = \"Ativos\"  \n  )+\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 16L, face = \"bold\", hjust = 0.5),\n    axis.title.y = element_text(face = \"bold\"),\n    axis.title.x = element_text(face = \"bold\")\n  )\n\n\n\n\nggplotly(p)\n\n\n\n\n\n\n\n\nggplotly(comp_mkt)"
  },
  {
    "objectID": "apresentacao.html#análise-do-risco.",
    "href": "apresentacao.html#análise-do-risco.",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Análise do risco.",
    "text": "Análise do risco.\n\nDesvio padrãoRisco do ativoRisco vs Retorno\n\n\n\\[\\bar{X}=\\sum_{i=1}^n{\\pi_iX_i}\\]\n\n# desvio padrao dos precos dos ativos\n\ndesvio_padrao &lt;- apply(prices, 2, sd)\n\ndesvio_padrao\n\n    VALE3.SA     PETR4.SA     AZUL4.SA     ABEV3.SA     BBDC4.SA        ^BVSP \n   15.013440     9.521448    12.356746     1.356661     2.287724 12175.998570 \n\n\n\n\n\n\n\\[ CV= \\frac{\\sigma}{\\bar{K}}\\]\n\n\n\nrisco_retorno &lt;- cbind(asset_returns_xts, portfolio_returns_xts) %&gt;% \n  tk_tbl(preserve_index = FALSE) %&gt;%\n  #Calcula o desvio padrão, a média e o coeficiente de variação\n  summarise(across(everything(), list(Desvio_padrao = sd, Retorno_Medio = mean, Risco = ~sd(.)/mean(.)))) %&gt;% \n  pivot_longer(cols = everything(), names_to = \"Ativo\", values_to = \"Valor\") %&gt;%\n  separate(Ativo, into = c(\"Ativo\", \"Medida\"), sep = \"_\") %&gt;%\n  pivot_wider(names_from = \"Medida\", values_from = \"Valor\")\n\nrisco_retorno\n\n# A tibble: 7 × 4\n  Ativo    Desvio  Retorno  Risco\n  &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;\n1 VALE3.SA 0.0950  0.0164    5.78\n2 PETR4.SA 0.123   0.0331    3.72\n3 AZUL4.SA 0.245  -0.00601 -40.8 \n4 ABEV3.SA 0.0771 -0.00221 -34.8 \n5 BBDC4.SA 0.102  -0.00353 -29.1 \n6 X.BVSP   0.0737  0.00431  17.1 \n7 CARTEIRA 0.0920  0.00698  13.2 \n\nrr &lt;- ggplot(risco_retorno) +\n  aes(x = Retorno, y = Risco, colour = Ativo) +\n  geom_point() +\n  scale_color_hue(direction = 1) +\n  labs(title = \"Risco vs Retorno dos Ativos\") +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 16L,\n    face = \"bold\",\n    hjust = 0.5)\n  )"
  },
  {
    "objectID": "apresentacao.html#matriz-de-covariância",
    "href": "apresentacao.html#matriz-de-covariância",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Matriz de covariância",
    "text": "Matriz de covariância\n\n# Matriz de covariância\n\ncov_matrix &lt;- cov(retorno_ativos)\n\ncov_matrix %&gt;% head(10)\n\n            VALE3.SA    PETR4.SA    AZUL4.SA    ABEV3.SA    BBDC4.SA\nVALE3.SA 0.009024802 0.002274176 0.003989440 0.002693082 0.002533239\nPETR4.SA 0.002274176 0.015147990 0.013504755 0.004887755 0.007907322\nAZUL4.SA 0.003989440 0.013504755 0.060159133 0.008832055 0.015732158\nABEV3.SA 0.002693082 0.004887755 0.008832055 0.005941457 0.004876062\nBBDC4.SA 0.002533239 0.007907322 0.015732158 0.004876062 0.010504185"
  },
  {
    "objectID": "apresentacao.html#beta-da-carteira-e-de-cada-ativo.",
    "href": "apresentacao.html#beta-da-carteira-e-de-cada-ativo.",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Beta da carteira e de cada ativo.",
    "text": "Beta da carteira e de cada ativo.\n\n# Calculando o beta do portifólio e de cada ativo\n\n\n\nbeta_long &lt;- CAPM.beta(cbind(asset_returns_xts, portfolio_returns_xts), asset_returns_xts$'^BVSP', Rf = 0) %&gt;%\n  as.data.frame() %&gt;%\n  rownames_to_column(var = \"indice\") %&gt;%\n  pivot_longer(cols = -indice, names_to = \"Ativo\", values_to = \"beta\") %&gt;%\n  select(-indice) %&gt;% \n  inner_join(risco_retorno, by = \"Ativo\") %&gt;%\n  select(Ativo,Desvio, beta, Risco, Retorno)\n\nbeta_long\n\n# A tibble: 7 × 5\n  Ativo    Desvio  beta  Risco  Retorno\n  &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;\n1 VALE3.SA 0.0950 0.620   5.78  0.0164 \n2 PETR4.SA 0.123  1.31    3.72  0.0331 \n3 AZUL4.SA 0.245  2.06  -40.8  -0.00601\n4 ABEV3.SA 0.0771 0.679 -34.8  -0.00221\n5 BBDC4.SA 0.102  1.16  -29.1  -0.00353\n6 X.BVSP   0.0737 1      17.1   0.00431\n7 CARTEIRA 0.0920 1.13   13.2   0.00698"
  },
  {
    "objectID": "apresentacao.html#beta-vs-retorno",
    "href": "apresentacao.html#beta-vs-retorno",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Beta vs Retorno",
    "text": "Beta vs Retorno\n\nggplot(beta_long) +\n  aes(x = Retorno, y = beta, colour = Ativo) +\n  geom_point() +\n  scale_color_hue(direction = 1) +\n  labs(x = \"Retorno\", y = \"Beta\", title = \"Beta vs Retorno\") +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 16L,\n    face = \"bold\",\n    hjust = 0.5)\n  )"
  },
  {
    "objectID": "apresentacao.html#indice-sharpe",
    "href": "apresentacao.html#indice-sharpe",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "Indice sharpe",
    "text": "Indice sharpe\n\n# Calculando o índice sharpe com perfomance analytics\n\nsharpe_carteira &lt;- SharpeRatio(portfolio_returns_xts, Rf = 0, p = 0.95, FUN = \"StdDev\")\n\nsharpe_ativos &lt;- SharpeRatio(asset_returns_xts, Rf = 0, p = 0.95, FUN = \"StdDev\")\n\nsharpe_carteira\n\n                               CARTEIRA\nStdDev Sharpe (Rf=0%, p=95%): 0.0758807\n\nsharpe_ativos %&gt;% view"
  },
  {
    "objectID": "apresentacao.html#notas",
    "href": "apresentacao.html#notas",
    "title": "Mini-Curso - Explorando finanças com R",
    "section": "notas",
    "text": "notas\ncalcula o risco de cada ativo. [x] calcula o cv de cada ativo [x] identifica qual a ordem dos ativos mais eficientes isoladamente.\nmatriz covari~^ancia beta do portifólio e de cada ativo beta covariancia/ variancia do mercado\ncomparar carteiras sharpe\no inverso do cv\n\n\n\n\nPPGAd Universidade Federal de Fluminense\n\n\n\n\n\n\n\n \n\n\nVIII SER - Seminário Internacional de Estatística com R"
  }
]